app-chat .user-card__body {
    color: white !important;
}


/* REMOVED: Carousel hiding moved to explore.js for blocked user support */
/* The rule was:
app-broadcasts-carousel:not(.betternow-ready) {
    visibility: hidden !important;
}
*/

/* Make header scroll with page instead of staying fixed */
app-channel .header {
    position: relative !important;
    top: 0 !important;
    border-bottom: none !important;
}

/* Grid view styles - only on broadcast pages */
.grid-view-enabled app-channel .video-player {
    height: auto !important;
}

.grid-view-enabled app-channel .fullscreen-wrapper {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 4px !important;
    width: 100% !important;
    height: auto !important;
    align-content: flex-start !important;
}

/* Fullscreen grid view - center content vertically */
.grid-view-enabled app-channel .fullscreen-wrapper:fullscreen,
.grid-view-enabled app-channel .fullscreen-wrapper:-webkit-full-screen {
    height: 100vh !important;
    align-content: center !important;
    justify-content: center !important;
}

/* All videos: 2 columns, auto rows */
.grid-view-enabled app-channel .fullscreen-wrapper > .video {
    position: relative !important;
    flex: 0 0 calc(50% - 2px) !important;
    max-width: calc(50% - 2px) !important;
    height: auto !important;
    aspect-ratio: 16/9 !important;
    left: unset !important;
    top: unset !important;
    width: unset !important;
}

/* 1 video: full width */
.grid-view-enabled app-channel .fullscreen-wrapper > .video:only-child {
    flex: 0 0 100% !important;
    max-width: 100% !important;
}

/* Hide "Recommended for you" section on profile pages */
app-profile-mayalsolike {
    display: none !important;
}

/* Hide empty placeholder slots when exactly 2 streams active - applied via JS class */
.grid-view-enabled.grid-hide-empty app-channel .fullscreen-wrapper > .video.video--placeholder {
    display: none !important;
}

/* ============ 2-Person Layout: Sidebar + Video side by side ============ */

/* When exactly 2 streams: stack vertically with controlled width */
.grid-view-enabled.grid-hide-empty app-channel .fullscreen-wrapper > .video:not(.video--placeholder) {
    flex: 0 0 auto !important;
    max-width: 100% !important;
    width: 100% !important;
    height: calc(50vh - 60px) !important;
    aspect-ratio: unset !important;
    margin: 0 !important;
}

/* Main container stays normal block flow */
.grid-view-enabled.grid-hide-empty app-channel .main {
    display: block !important;
    position: relative !important;
}

/* Header stays full width */
.grid-view-enabled.grid-hide-empty app-channel .main > .header {
    margin-left: 0 !important;
    padding-left: 0 !important;
}

/* Toolbars span full width - NO margin */
.grid-view-enabled.grid-hide-empty app-channel .main > #betternow-toolbar,
.grid-view-enabled.grid-hide-empty app-channel .main > app-top-toolbar {
    margin-left: 0 !important;
}

/* Video player gets left padding for sidebar space */
.grid-view-enabled.grid-hide-empty app-channel app-video-player {
    padding-left: 340px !important;
    box-sizing: border-box !important;
}

/* Footer (action bar) gets left padding */
.grid-view-enabled.grid-hide-empty app-channel .main > .footer {
    padding-left: 340px !important;
    box-sizing: border-box !important;
}

/* Channel profile section gets left padding */
.grid-view-enabled.grid-hide-empty app-channel .channel-profile {
    padding-left: 340px !important;
    box-sizing: border-box !important;
}

/* Video player inner uses full width */
.grid-view-enabled.grid-hide-empty app-channel .video-player {
    width: 100% !important;
    margin: 0 !important;
}

.grid-view-enabled.grid-hide-empty app-channel app-stream-actions {
    width: 100% !important;
    margin: 0 !important;
}

.grid-view-enabled.grid-hide-empty app-channel app-stream-actions .wrapper {
    width: 100% !important;
    justify-content: flex-start !important;
}

.grid-view-enabled.grid-hide-empty app-channel app-stream-actions .wrapper .list {
    width: 100% !important;
    justify-content: flex-start !important;
}

/* Hide "Recommended for you" section */
.grid-view-enabled.grid-hide-empty app-channel app-profile-mayalsolike {
    display: none !important;
}

/* Hide the ORIGINAL .left element - JS will move it */
.grid-view-enabled.grid-hide-empty app-channel .columns > .left {
    display: none !important;
}

/* Fixed sidebar container - created by JS, appended to body */
#betternow-fixed-sidebar {
    position: fixed !important;
    left: 55px !important;
    top: 130px !important;
    width: 320px !important;
    max-height: calc(100vh - 150px) !important;
    overflow-y: auto !important;
    z-index: 100 !important;
    background: var(--background-color, #121212) !important;
    padding: 10px !important;
    -ms-overflow-style: none !important;
    scrollbar-width: none !important;
}

#betternow-fixed-sidebar::-webkit-scrollbar {
    display: none !important;
}

/* Posts section - takes full width */
.grid-view-enabled.grid-hide-empty app-channel .columns > .right {
    width: 100% !important;
}

.grid-view-enabled app-channel .fullscreen-wrapper > .video .video-wrapper,
.grid-view-enabled app-channel .fullscreen-wrapper > .video app-video {
    width: 100% !important;
    height: 100% !important;
}

/* Force cover for regular videos in grid view */
.grid-view-enabled app-channel .fullscreen-wrapper > .video video:not(.is-screenshare) {
    object-fit: cover !important;
}

/* Screenshare videos use contain to show full content */
.grid-view-enabled app-channel .fullscreen-wrapper > .video video.is-screenshare {
    object-fit: contain !important;
}

/* Main video wrapper - full size by default in grid */
.grid-view-enabled app-channel .fullscreen-wrapper > .video .main-video-wrapper {
    width: 100% !important;
    height: 100% !important;
}

/* When screenshare is active: position camera feed as small PiP overlay */
/* Target main-video-wrapper with is-headshot (camera off) inside screenshare tiles */
/* Use high specificity to override all states */
.grid-view-enabled app-channel .fullscreen-wrapper > .video:has(video.is-screenshare) > .main-video-wrapper.is-headshot,
.grid-view-enabled app-channel .fullscreen-wrapper > .video:has(video.is-screenshare) > .main-video-wrapper.is-headshot.is-small,
.grid-view-enabled app-channel .fullscreen-wrapper > .video:has(video.is-screenshare) > .main-video-wrapper.is-headshot.is-audio-only-headshot,
.grid-view-enabled app-channel .fullscreen-wrapper > .video:has(video.is-screenshare) > .main-video-wrapper.is-headshot.is-audio-only-headshot.is-small {
    position: absolute !important;
    bottom: -10px !important;
    right: 5px !important;
    top: unset !important;
    left: unset !important;
    width: 100px !important;
    height: 100px !important;
    max-height: 100px !important;
    z-index: 9 !important;
    border-radius: 8px !important;
    overflow: hidden !important;
}

/* Force all audio-animation-wrappers to consistent size in grid view */
/* The is-small class actually makes them LARGER (47.5px), while selected (no is-small) is smaller (40px) */
/* We want all to match the is-small size */
.grid-view-enabled app-channel .fullscreen-wrapper > .video .audio-animation-wrapper:not(.is-small):not(.is-mini) {
    width: var(--stream-user-thumb-medium) !important;
    height: auto !important;
    aspect-ratio: 1 !important;
}

/* Force screenshare PiP avatar to consistent size regardless of is-small/is-mini */
.grid-view-enabled app-channel .fullscreen-wrapper > .video:has(video.is-screenshare) .main-video-wrapper .audio-animation-wrapper,
.grid-view-enabled app-channel .fullscreen-wrapper > .video:has(video.is-screenshare) .main-video-wrapper .audio-animation-wrapper.is-small,
.grid-view-enabled app-channel .fullscreen-wrapper > .video:has(video.is-screenshare) .main-video-wrapper .audio-animation-wrapper.is-mini {
    width: 40px !important;
    height: 40px !important;
    min-height: 40px !important;
    max-height: 40px !important;
    aspect-ratio: 1 / 1 !important;
}

/* Ensure toolbar stays above PiP webcam in grid view */
.grid-view-enabled app-channel .fullscreen-wrapper > .video .toolbar--overlay {
    z-index: 10 !important;
}

/* Rounded corners for all videos */
.video-player .video {
    border-radius: 12px;
    overflow: hidden;
}

/* Hide native volume control on guest video tiles (not main broadcaster) */
.fullscreen-wrapper > .video app-volume {
    display: none !important;
}

/* Add padding to YouNow toolbar when BetterNow toolbar exists above it */
#betternow-toolbar + app-top-toolbar .toolbar {
    padding-top: 16px !important;
}

/* BetterNow toolbar slider styles */
#betternow-toolbar .slider {
    -webkit-appearance: none;
    appearance: none;
    height: 0.3rem;
    background: var(--color-lightgray, #d3d3d3);
    border-radius: 2rem;
    cursor: pointer;
}

#betternow-toolbar .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: .8rem;
    height: .8rem;
    border-radius: 50%;
    background: var(--color-primary-green, #08d687);
    cursor: pointer;
}

#betternow-toolbar .slider::-moz-range-thumb {
    -moz-appearance: none;
    appearance: none;
    width: .8rem;
    height: .8rem;
    border-radius: 50%;
    background: var(--color-primary-green, #08d687);
    cursor: pointer;
    border: none;
}

/* Volume slider styles for guest videos */
.betternow-volume-slider .slider {
    -webkit-appearance: none;
    appearance: none;
    width: 60px;
    height: 0.3rem;
    background: var(--color-lightgray, #d3d3d3);
    border-radius: 2rem;
    cursor: pointer;
    transition: opacity 0.2s;
}

.betternow-volume-slider .slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: .8rem;
    height: .8rem;
    border-radius: 50%;
    background: var(--color-primary-green, #08d687);
    cursor: pointer;
}

.betternow-volume-slider .slider::-moz-range-thumb {
    -moz-appearance: none;
    appearance: none;
    width: .8rem;
    height: .8rem;
    border-radius: 50%;
    background: var(--color-primary-green, #08d687);
    cursor: pointer;
    border: none;
}